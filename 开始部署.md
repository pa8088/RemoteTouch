# 🚀 开始自动部署 - 操作清单

## ✅ 第1步：创建 GitHub Token（5分钟）

### 1.1 访问 Token 创建页面

**直接点击这个链接**：
<a href="https://github.com/settings/tokens/new" target="_blank">https://github.com/settings/tokens/new</a>

（如果未登录会先要求登录 GitHub）

---

### 1.2 填写 Token 信息

在打开的页面中填写：

**Note（备注名称）**：
```
RemoteTouch Deploy
```

**Expiration（过期时间）**：
```
选择：90 days（90天）
```

**Select scopes（选择权限）**：

⚠️ **重要**：只勾选以下权限

```
☑️ repo（勾选这个后会自动勾选所有子项）
   ☑️ repo:status
   ☑️ repo_deployment
   ☑️ public_repo
   ☑️ repo:invite
   ☑️ security_events
```

**其他权限都不要勾选！**

---

### 1.3 生成并复制 Token

1. 滚动到页面底部
2. 点击绿色按钮 `Generate token`
3. **立即复制**生成的 Token（形如 `ghp_1a2b3c4d5e6f...`）

⚠️ **超级重要**：
- Token **只显示一次**，离开页面就看不到了
- 请立即粘贴到记事本保存
- 格式：`ghp_` 开头 + 一串字符
- 长度约 40 个字符

**保存示例**：
```
ghp_1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0
```

✅ **完成后进入第2步**

---

## ✅ 第2步：运行自动部署脚本（3分钟）

### 2.1 打开终端/命令行

**Windows**：
```
方法1：按 Win + R，输入 cmd，回车
方法2：在 RemoteTouch 文件夹空白处，按住 Shift 右键，选择"在此处打开命令窗口"
方法3：搜索栏搜索"cmd"或"命令提示符"
```

**macOS**：
```
方法1：按 Cmd + 空格，输入 Terminal，回车
方法2：在 Finder 中进入 RemoteTouch 文件夹，右键选择"新建位于文件夹位置的终端窗口"
```

**Linux**：
```
方法1：按 Ctrl + Alt + T
方法2：在 RemoteTouch 文件夹右键，选择"在终端中打开"
```

---

### 2.2 进入 RemoteTouch 目录

**Windows**：
```cmd
cd 路径\到\RemoteTouch
```

**macOS/Linux**：
```bash
cd 路径/到/RemoteTouch
```

💡 **小技巧**：直接把 RemoteTouch 文件夹拖到终端窗口，会自动填充路径

---

### 2.3 运行部署脚本

**Windows**：
```cmd
auto-deploy.bat
```

**macOS/Linux**：
```bash
bash auto-deploy.sh
```

---

## ✅ 第3步：按提示输入信息（1分钟）

脚本会依次询问以下信息，按顺序输入：

### 3.1 GitHub 用户名
```
请输入您的 GitHub 用户名:
```
👉 输入您的 GitHub 用户名（不是邮箱）

---

### 3.2 Git 邮箱
```
请输入您的 Git 邮箱:
```
👉 输入您注册 GitHub 时用的邮箱

---

### 3.3 GitHub Token
```
请粘贴您的 GitHub Token:
```
👉 粘贴第1步保存的 Token（ghp_开头的那串）

💡 **粘贴小技巧**：
- Windows: Ctrl + V
- macOS: Cmd + V
- **输入时不会显示**，这是正常的安全设置

---

### 3.4 仓库名称
```
请输入仓库名称 [默认: RemoteTouch]:
```
👉 直接按回车使用默认名称 `RemoteTouch`
或者输入自定义名称（英文、数字、连字符）

---

## ✅ 第4步：等待自动完成（10秒）

脚本会自动执行：

```
✅ 配置 Git 用户信息
✅ 创建 GitHub 仓库
✅ 初始化本地仓库
✅ 添加所有文件
✅ 提交代码
✅ 推送到 GitHub
```

看到以下信息表示成功：

```
======================================
  🎉 部署成功！
======================================

📍 仓库地址:
   https://github.com/your-username/RemoteTouch

📍 Actions 编译状态:
   https://github.com/your-username/RemoteTouch/actions

📍 APK 下载地址（编译完成后）:
   https://github.com/your-username/RemoteTouch/releases

⏳ 预计 5-10 分钟后编译完成
```

---

## ✅ 第5步：查看编译状态（5-10分钟）

### 5.1 打开 Actions 页面

复制脚本输出的 Actions 链接，在浏览器打开：
```
https://github.com/your-username/RemoteTouch/actions
```

---

### 5.2 监控编译进度

看到工作流：`Build Android APK`

**状态说明**：
- 🟡 **黄色圆点** = 正在编译中
- ✅ **绿色对勾** = 编译成功！
- ❌ **红色叉号** = 编译失败（点击查看错误日志）

---

### 5.3 查看编译详情（可选）

点击工作流可以看到详细步骤：
```
⏳ Set up JDK 11            (1-2分钟)
⏳ Build Debug APK          (3-8分钟)
⏳ Upload APK               (30秒)
⏳ Create Release           (30秒)
```

---

## ✅ 第6步：下载 APK（1分钟）

编译成功后（绿色对勾），有两种下载方式：

### 方式1：从 Releases 下载（推荐 ⭐）

访问：
```
https://github.com/your-username/RemoteTouch/releases
```

1. 点击最新版本（如 `v1.0-1`）
2. 在 **Assets** 区域下载 `app-debug.apk`
3. 文件大小约 2-3 MB

---

### 方式2：从 Artifacts 下载

1. 在 Actions 页面点击成功的构建
2. 滚动到底部 **Artifacts** 区域
3. 下载 `RemoteTouch-Debug.zip`
4. 解压得到 `app-debug.apk`

---

## 🎉 完成！接下来做什么？

### 📱 安装到手机

1. 将 `app-debug.apk` 传输到手机
2. 在手机上点击安装
3. 允许"未知来源"安装（如果提示）

### ⚙️ 配置手机端

参考项目中的 `README.md` 完成配置：
1. 开启无障碍服务
2. 关闭电池优化
3. 启动应用服务
4. 记录 IP 地址

### 🖥️ 使用电脑端控制

```bash
# 安装依赖
pip install pynput

# 运行客户端（替换为手机显示的IP）
python remote_touch_client.py start 192.168.1.100
```

---

## ❓ 遇到问题？

### Token 相关
- ❌ "Token 无效" → 检查是否完整复制（包括 ghp_ 前缀）
- ❌ "权限不足" → 确认勾选了 repo 权限
- ❌ "Token 过期" → 重新生成一个新的

### Git 相关
- ❌ "git 命令不存在" → 安装 Git（https://git-scm.com）
- ❌ "推送失败" → 删除 .git 文件夹，重新运行脚本

### 编译相关
- ❌ 编译失败（红叉） → 点击查看错误日志
- ⏰ 编译超时 → 点击 Re-run all jobs 重试

---

## 📞 需要帮助？

查看详细文档：
- `一键部署指南.md` - 完整说明
- `README.md` - 使用文档
- `CLOUD_BUILD_GUIDE.md` - 云编译详解

---

## ✅ 检查清单

部署前确认：

```
☐ 已创建 GitHub 账号
☐ 已生成 GitHub Token
☐ 已保存 Token 到记事本
☐ 已安装 Git
☐ 已打开终端并进入 RemoteTouch 目录
☐ 已准备好输入用户名、邮箱、Token
```

**全部完成？开始运行脚本吧！** 🚀
